{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../config/api';import{Container,Grid,Paper,Typography,List,ListItem,ListItemText,Box,Chip,Divider}from'@mui/material';import{useTheme}from'@mui/material/styles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[dashboardData,setDashboardData]=useState(null);const[error,setError]=useState(null);const theme=useTheme();useEffect(()=>{const fetchDashboardData=async()=>{try{const response=await api.get('/api/admin/dashboard-data');setDashboardData(response.data);setError(null);}catch(err){setError('Failed to fetch dashboard data');console.error('Error fetching dashboard data:',err);}};fetchDashboardData();const interval=setInterval(fetchDashboardData,30000);// Refresh every 30 seconds\nreturn()=>clearInterval(interval);},[]);if(error){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{color:\"error\",variant:\"h6\",align:\"center\",children:error})});}if(!dashboardData){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",children:\"Loading...\"})});}return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:3,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2,display:'flex',flexDirection:'column',height:140,bgcolor:theme.palette.primary.main,color:'white'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h6\",gutterBottom:true,children:\"System Uptime\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"h4\",children:dashboardData.uptime})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:3,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2,display:'flex',flexDirection:'column',height:140,bgcolor:theme.palette.success.main,color:'white'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h6\",gutterBottom:true,children:\"Active Users\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"h4\",children:dashboardData.activeUsers})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:3,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2,display:'flex',flexDirection:'column',height:140,bgcolor:theme.palette.warning.main,color:'white'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h6\",gutterBottom:true,children:\"Failed Logins (24h)\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"h4\",children:dashboardData.failedLogins})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:3,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2,display:'flex',flexDirection:'column',height:140,bgcolor:theme.palette.error.main,color:'white'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h6\",gutterBottom:true,children:\"Suspicious Activities (24h)\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"h4\",children:dashboardData.suspiciousActivities})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h6\",gutterBottom:true,children:\"Recent Activities\"}),/*#__PURE__*/_jsx(List,{children:dashboardData.recentActivities.map((activity,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[activity.user,\" - \",activity.action]}),/*#__PURE__*/_jsx(Chip,{label:activity.status,size:\"small\",color:activity.status==='success'?'success':activity.status==='failed'?'error':activity.status==='suspicious'?'warning':'default'})]}),secondary:activity.timestamp})}),index<dashboardData.recentActivities.length-1&&/*#__PURE__*/_jsx(Divider,{})]},index))})]})})]})});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","api","Container","Grid","Paper","Typography","List","ListItem","ListItemText","Box","Chip","Divider","useTheme","jsx","_jsx","jsxs","_jsxs","AdminDashboard","dashboardData","setDashboardData","error","setError","theme","fetchDashboardData","response","get","data","err","console","interval","setInterval","clearInterval","children","color","variant","align","maxWidth","sx","mt","mb","container","spacing","item","xs","md","p","display","flexDirection","height","bgcolor","palette","primary","main","component","gutterBottom","uptime","success","activeUsers","warning","failedLogins","suspiciousActivities","recentActivities","map","activity","index","Fragment","alignItems","gap","user","action","label","status","size","secondary","timestamp","length"],"sources":["C:/Users/shawa/OneDrive/Desktop/biometric_crime_detection/frontend/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../config/api';\nimport {\n  Container,\n  Grid,\n  Paper,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Box,\n  Chip,\n  Divider\n} from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\n\nconst AdminDashboard = () => {\n  const [dashboardData, setDashboardData] = useState(null);\n  const [error, setError] = useState(null);\n  const theme = useTheme();\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        const response = await api.get('/api/admin/dashboard-data');\n        setDashboardData(response.data);\n        setError(null);\n      } catch (err) {\n        setError('Failed to fetch dashboard data');\n        console.error('Error fetching dashboard data:', err);\n      }\n    };\n\n    fetchDashboardData();\n    const interval = setInterval(fetchDashboardData, 30000); // Refresh every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  if (error) {\n    return (\n      <Container>\n        <Typography color=\"error\" variant=\"h6\" align=\"center\">\n          {error}\n        </Typography>\n      </Container>\n    );\n  }\n\n  if (!dashboardData) {\n    return (\n      <Container>\n        <Typography variant=\"h6\" align=\"center\">\n          Loading...\n        </Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Grid container spacing={3}>\n        {/* System Stats */}\n        <Grid item xs={12} md={3}>\n          <Paper\n            sx={{\n              p: 2,\n              display: 'flex',\n              flexDirection: 'column',\n              height: 140,\n              bgcolor: theme.palette.primary.main,\n              color: 'white',\n            }}\n          >\n            <Typography component=\"h2\" variant=\"h6\" gutterBottom>\n              System Uptime\n            </Typography>\n            <Typography component=\"p\" variant=\"h4\">\n              {dashboardData.uptime}\n            </Typography>\n          </Paper>\n        </Grid>\n\n        {/* Active Users */}\n        <Grid item xs={12} md={3}>\n          <Paper\n            sx={{\n              p: 2,\n              display: 'flex',\n              flexDirection: 'column',\n              height: 140,\n              bgcolor: theme.palette.success.main,\n              color: 'white',\n            }}\n          >\n            <Typography component=\"h2\" variant=\"h6\" gutterBottom>\n              Active Users\n            </Typography>\n            <Typography component=\"p\" variant=\"h4\">\n              {dashboardData.activeUsers}\n            </Typography>\n          </Paper>\n        </Grid>\n\n        {/* Failed Logins */}\n        <Grid item xs={12} md={3}>\n          <Paper\n            sx={{\n              p: 2,\n              display: 'flex',\n              flexDirection: 'column',\n              height: 140,\n              bgcolor: theme.palette.warning.main,\n              color: 'white',\n            }}\n          >\n            <Typography component=\"h2\" variant=\"h6\" gutterBottom>\n              Failed Logins (24h)\n            </Typography>\n            <Typography component=\"p\" variant=\"h4\">\n              {dashboardData.failedLogins}\n            </Typography>\n          </Paper>\n        </Grid>\n\n        {/* Suspicious Activities */}\n        <Grid item xs={12} md={3}>\n          <Paper\n            sx={{\n              p: 2,\n              display: 'flex',\n              flexDirection: 'column',\n              height: 140,\n              bgcolor: theme.palette.error.main,\n              color: 'white',\n            }}\n          >\n            <Typography component=\"h2\" variant=\"h6\" gutterBottom>\n              Suspicious Activities (24h)\n            </Typography>\n            <Typography component=\"p\" variant=\"h4\">\n              {dashboardData.suspiciousActivities}\n            </Typography>\n          </Paper>\n        </Grid>\n\n        {/* Recent Activities Timeline */}\n        <Grid item xs={12}>\n          <Paper sx={{ p: 2 }}>\n            <Typography component=\"h2\" variant=\"h6\" gutterBottom>\n              Recent Activities\n            </Typography>\n            <List>\n              {dashboardData.recentActivities.map((activity, index) => (\n                <React.Fragment key={index}>\n                  <ListItem>\n                    <ListItemText\n                      primary={\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                          <Typography variant=\"body1\">\n                            {activity.user} - {activity.action}\n                          </Typography>\n                          <Chip\n                            label={activity.status}\n                            size=\"small\"\n                            color={\n                              activity.status === 'success'\n                                ? 'success'\n                                : activity.status === 'failed'\n                                ? 'error'\n                                : activity.status === 'suspicious'\n                                ? 'warning'\n                                : 'default'\n                            }\n                          />\n                        </Box>\n                      }\n                      secondary={activity.timestamp}\n                    />\n                  </ListItem>\n                  {index < dashboardData.recentActivities.length - 1 && <Divider />}\n                </React.Fragment>\n              ))}\n            </List>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}